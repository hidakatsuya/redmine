<%= tag.span data: { 'reaction-button-id': dom_id(reactable, :react) } do %>
  <% if reaction = reactable.reactions.find_by(user: User.current) %>
    <%= link_to(
          reaction_path(reaction, reactable_type: reactable.class.name, reactable_id: reactable),
          remote: true, method: :delete,
          class: ['reaction', 'reacted', 'icon'],
          title: reacted_user_names(reactable)
        ) do %>
          <%= sprite_icon('thumb-up-reacted', reactable.reactions.size) %>
    <% end %>
  <% else %>
    <%= link_to(
          reactions_path(reactable_type: reactable.class.name, reactable_id: reactable),
          remote: true, method: :post,
          class: ['reaction', 'icon'],
          title: reacted_user_names(reactable)
        ) do %>
          <%= sprite_icon('thumb-up', reactable.reactions.size) %>
    <% end %>
  <% end %>
<% end %>
